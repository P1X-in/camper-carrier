[gd_scene load_steps=10 format=2]

[ext_resource path="res://assets/shaders/terrain.shader" type="Shader" id=1]
[ext_resource path="res://assets/materials/worldmap.png" type="Texture" id=2]
[ext_resource path="res://assets/materials/detailed_noise.tres" type="Texture" id=3]
[ext_resource path="res://assets/shaders/grass_particle.shader" type="Shader" id=4]
[ext_resource path="res://assets/meshes/tree.mesh" type="ArrayMesh" id=5]
[ext_resource path="res://assets/scripts/particle_follow_camera_rig.gd" type="Script" id=6]

[sub_resource type="PlaneMesh" id=1]

size = Vector2( 4096, 4096 )
subdivide_width = 512
subdivide_depth = 512

[sub_resource type="ShaderMaterial" id=2]

shader = ExtResource( 1 )
shader_param/HEIGHTMAP_SIZE = Vector2( 4096, 4096 )
shader_param/HEIGHT_FACTOR = 128.0
shader_param/MOUNTAINS_FACTOR = 24.0
shader_param/RANDOM_UV_FACTOR = 4.0
shader_param/GRASS_UV_FACTOR = 4.0
shader_param/white_line = 0.8
shader_param/green_line = 0.5
shader_param/ground_line = 0.38
shader_param/blue_line = 0.4
shader_param/GOLDEN_ANGLE_RADIAN = 2.39996
shader_param/heightmap = ExtResource( 2 )
shader_param/noisemap = ExtResource( 3 )

[sub_resource type="ShaderMaterial" id=3]

shader = ExtResource( 4 )
shader_param/TERRAIN_HEIGHT_SCALE = 128.0
shader_param/TERRAIN_MIN_H = 0.45
shader_param/TERRAIN_MAX_H = 0.6
shader_param/GRASS_ROWS = 64.0
shader_param/GRASS_SPACING = 8.0
shader_param/GRASS_SCALE_MIN = 0.3
shader_param/GRASS_SCALE_MAX = 11.0
shader_param/MAP_SIZE = Vector2( 4096, 4096 )
shader_param/HEIGHT_MAP = ExtResource( 2 )
shader_param/NOISE_MAP = ExtResource( 3 )

[node name="world" type="Spatial"]

[node name="terrain" type="MeshInstance" parent="."]
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="Particles" type="Particles" parent="terrain"]
amount = 4096
explosiveness = 1.0
visibility_aabb = AABB( -128, 0, -128, 256, 64, 256 )
local_coords = false
process_material = SubResource( 3 )
draw_pass_1 = ExtResource( 5 )
script = ExtResource( 6 )

